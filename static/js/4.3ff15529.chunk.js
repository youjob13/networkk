(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[4],{639:function(t,e,n){t.exports={formControl:"FormControls_formControl__2bn39",error:"FormControls_error__2E7D-",formSummaryError:"FormControls_formSummaryError__2gQrs"}},640:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return a}));var s=function(t){if(!t)return"Field is required"},a=function(t){return function(e){if(e&&e.length>t)return"Max length is ".concat(t," symbols")}}},641:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return j}));var s=n(4),a=n(649),o=n(2),c=(n(1),n(639)),i=n.n(c),r=function(t){var e=t.meta,n=e.touched,s=e.error,a=t.children,c=n&&s;return Object(o.jsxs)("div",{className:i.a.formControl+" "+(c?i.a.error:""),children:[Object(o.jsx)("div",{children:a}),c&&Object(o.jsx)("span",{children:s})]})},l=function(t){var e=t.input,n=(t.meta,Object(a.a)(t,["input","meta"]));return Object(o.jsx)(r,Object(s.a)(Object(s.a)({},t),{},{children:Object(o.jsx)("input",Object(s.a)(Object(s.a)({},e),n))}))},j=function(t){var e=t.input,n=(t.meta,Object(a.a)(t,["input","meta"]));return Object(o.jsx)(r,Object(s.a)(Object(s.a)({},t),{},{children:Object(o.jsx)("textarea",Object(s.a)(Object(s.a)({},e),n))}))}},648:function(t,e,n){t.exports={socialLink:"ProfileInfo_socialLink__3nAgt",contacts:"ProfileInfo_contacts__2Uwlq",statusInput:"ProfileInfo_statusInput__Mbumx",profileInfo:"ProfileInfo_profileInfo__29osV",name:"ProfileInfo_name__14KVZ",active:"ProfileInfo_active__11DlK",profileUserInfo:"ProfileInfo_profileUserInfo__2UHax",userPhoto:"ProfileInfo_userPhoto__33qID",inputWrapper:"ProfileInfo_inputWrapper__MJS4f",inputFile:"ProfileInfo_inputFile__36rgz",inputFileIconWrapper:"ProfileInfo_inputFileIconWrapper__uxpsa",inputFileButtonText:"ProfileInfo_inputFileButtonText__9tWVI",inputFileButton:"ProfileInfo_inputFileButton__1JCzb",information:"ProfileInfo_information__3M1gV",btnChangeInfo:"ProfileInfo_btnChangeInfo__1yFyU",btnContacts:"ProfileInfo_btnContacts__2lZ4i",btnSaveEdit:"ProfileInfo_btnSaveEdit__2Pqx2",inputInfo:"ProfileInfo_inputInfo__2SM7k"}},663:function(t,e,n){t.exports={postsBlock:"MyPosts_postsBlock__2Bjim",item:"MyPosts_item__sPXQK",textarea:"MyPosts_textarea__3eBoL",addPost:"MyPosts_addPost__STnXN"}},706:function(t,e,n){t.exports={item:"Post_item__33rLd",message:"Post_message__3C6Py",messageText:"Post_messageText__3t0EX"}},707:function(t,e,n){},710:function(t,e,n){"use strict";n.r(e);var s=n(4),a=n(2),o=n(1),c=n.n(o),i=n(24),r=n(8),l=n(31),j=n(130),u=n(58),b=n(230),d=n(231),f=n(641),p=n(640),O=n(663),h=n.n(O),m=Object(p.a)(150),x=Object(d.a)({form:"newPost"})((function(t){return Object(a.jsxs)("form",{onSubmit:t.handleSubmit,children:[Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{name:"newPostText",component:f.b,validate:[p.b,m],className:h.a.textarea,placeholder:"\u0420\u0430\u0441\u0441\u043a\u0430\u0436\u0438\u0442\u0435, \u0447\u0442\u043e \u0443 \u0412\u0430\u0441 \u043d\u043e\u0432\u043e\u0433\u043e!"})}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:h.a.addPost,children:"Add post"})})]})})),_=n(135),v=n(706),g=n.n(v),P=function(t){var e=t.photo,n=t.message,s=t.likeCount;return Object(a.jsxs)("div",{className:g.a.item,children:[Object(a.jsx)(_.a,{photo:e}),Object(a.jsxs)("div",{className:g.a.message,children:[Object(a.jsx)("p",{className:g.a.messageText,children:n}),Object(a.jsxs)("p",{children:[s," like"]})]})]})},I=c.a.memo((function(t){var e=t.addPost,n=t.postData,s=t.photo;return Object(a.jsxs)("div",{className:h.a.postsBlock,children:[Object(a.jsx)("h3",{children:"My posts"}),Object(a.jsx)(x,{onSubmit:function(t){e(t.newPostText)}}),Object(a.jsx)("div",{className:h.a.item,children:Object(u.a)(n).reverse().map((function(t){return Object(a.jsx)(P,{photo:s,message:t.message,likeCount:t.likeCount},t.id)}))})]})})),N=Object(i.b)((function(t){var e=t.profilePage;return{postData:e.postData,photo:e.profile.photos.small}}),{addPost:j.a})(I),S=n(136),k=n(56),C=n(648),F=n.n(C),y=function(t){var e=Object(o.useState)(!1),n=Object(S.a)(e,2),s=n[0],c=n[1],i=Object(o.useState)(t.status),r=Object(S.a)(i,2),l=r[0],j=r[1];Object(o.useEffect)((function(){j(t.status)}),[t.status]);return Object(a.jsxs)("p",{children:[!s&&Object(a.jsx)("div",{children:Object(a.jsx)("span",{className:F.a.statusInput,onDoubleClick:function(){c(!0)},children:t.status||"----"})}),s&&Object(a.jsx)("div",{children:Object(a.jsx)("input",{onChange:function(t){j(t.currentTarget.value)},autoFocus:!0,onBlur:function(){c(!1),t.updateStatus(l)},value:l})})]})},w=n.p+"static/media/upload.b969462c.png",M=n(639),E=n.n(M),B=Object(d.a)({form:"profileInfo"})((function(t){var e=t.error,n=t.handleSubmit,s=t.profile;return Object(a.jsxs)("form",{onSubmit:n,className:F.a.information,children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"FullName: "}),Object(a.jsx)(b.a,{className:F.a.inputInfo,validate:[],name:"fullName",component:f.a,type:"text",placeholder:"FullName"})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Looking for a job: "}),Object(a.jsx)("p",{children:Object(a.jsx)(b.a,{name:"lookingForAJob",type:"checkbox",component:f.a})}),Object(a.jsx)("p",{children:Object(a.jsx)(b.a,{className:F.a.inputInfo,validate:[],name:"lookingForAJobDescription",type:"text",component:f.b})})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Info: "}),Object(a.jsx)(b.a,{className:F.a.inputInfo,validate:[],name:"aboutMe",type:"text",component:f.b})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:F.a.additionalInfo,children:[Object(a.jsx)("strong",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),Object.keys(s.contacts).map((function(t){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("b",{children:[t,":"]}),Object(a.jsx)("br",{}),Object(a.jsx)(b.a,{className:F.a.inputInfo,validate:[],name:"contacts.".concat(t),type:"text",component:f.a})]},t)}))]})})]}),e&&Object(a.jsx)("div",{className:E.a.formSummaryError,children:e}),Object(a.jsx)("button",{className:F.a.btnSaveEdit,children:"Save Changes"})]})})),T=function(t){var e=t.status,n=t.updateStatus,s=t.activeEditMode,c=t.profile,i=t.isOwner,r=Object(o.useState)(!1),l=Object(S.a)(r,2),j=l[0],u=l[1],b=function(){u(!j)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:F.a.name,children:c.fullName.toUpperCase()}),i?Object(a.jsx)(y,{status:e,updateStatus:n}):Object(a.jsx)("div",{children:e}),Object(a.jsxs)("div",{className:F.a.information,children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Looking for a job: "}),Object(a.jsx)("span",{children:c.lookingForAJob?"Yes":"No"})]}),c.lookingForAJobDescription&&Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Job Description: "}),Object(a.jsx)("span",{children:c.lookingForAJobDescription})]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("strong",{children:"Info: "}),c.aboutMe]})]}),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:F.a.additionalInfo,children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"}),j?Object(a.jsx)("button",{className:F.a.btnContacts,onClick:b,children:"hidden contacts"}):Object(a.jsx)("button",{className:F.a.btnContacts,onClick:b,children:"expand contacts"})]}),j&&Object.keys(c.contacts).map((function(t){if(console.log(c.contacts[t]),null!==c.contacts[t]&&""!==c.contacts[t].trim())return Object(a.jsx)(D,{contactTitle:t,contactValue:c.contacts[t]},t)}))]})})]}),i&&Object(a.jsx)("button",{className:F.a.btnChangeInfo,onClick:s,children:"Edit"})]})]})},D=function(t){var e=t.contactTitle,n=t.contactValue;return Object(a.jsxs)("p",{className:F.a.contacts,children:[Object(a.jsx)("strong",{children:e}),":"," ",Object(a.jsx)("a",{className:F.a.socialLink,href:"/",children:n})]})},A=function(t){var e=t.saveProfile,n=t.savePhoto,s=t.isOwner,c=t.profile,i=t.status,r=t.updateStatus,l=Object(o.useState)(!1),j=Object(S.a)(l,2),u=j[0],b=j[1];return Object(a.jsxs)("div",{className:F.a.profileInfo,children:[Object(a.jsxs)("div",{className:F.a.userPhoto,children:[Object(a.jsx)(_.a,{photo:c.photos.large}),s&&Object(a.jsxs)("div",{className:F.a.inputWrapper,children:[Object(a.jsx)("input",{className:F.a.inputFile,id:"input__file",type:"file",name:"file",onChange:function(t){t.target.files.length&&n(t.target.files[0])}}),Object(a.jsxs)("label",{for:"input__file",className:F.a.inputFileButton,children:[Object(a.jsx)("span",{className:F.a.inputFileIconWrapper,children:Object(a.jsx)("img",{src:w,alt:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b",width:"25"})}),Object(a.jsx)("span",{className:F.a.inputFileButtonText,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b"})]})]})]}),Object(a.jsx)("div",{className:F.a.profileUserInfo,children:u?Object(a.jsx)(B,{profile:c,initialValues:c,onSubmit:function(t){e(t).then((function(){b(!1)}))}}):Object(a.jsx)(T,{updateStatus:r,status:i,activeEditMode:function(){b(!0)},isOwner:s,profile:c})})]})},J=(n(707),function(t){var e=t.saveProfile,n=t.savePhoto,s=t.isOwner,o=t.profile,c=t.status,i=t.updateStatus;return o?Object(a.jsxs)("div",{children:[Object(a.jsx)(A,{saveProfile:e,savePhoto:n,isOwner:s,profile:o,status:c,updateStatus:i}),Object(a.jsx)(N,{})]}):Object(a.jsx)(k.a,{})});e.default=Object(l.d)(Object(i.b)((function(t){var e=t.profilePage,n=t.auth;return{profile:e.profile,status:e.status,authorizedUserId:n.userId,isAuth:n.isAuth}}),{getProfile:j.c,updateStatus:j.g,getStatus:j.d,savePhoto:j.e,saveProfile:j.f}),r.g)((function(t){return Object(o.useEffect)((function(){var e=t.match.params.userId;e||(e=t.authorizedUserId)||t.history.push("/login"),t.getProfile(e),t.getStatus(e)}),[t.match.params.userId,t.isAuth]),Object(a.jsx)(J,Object(s.a)(Object(s.a)({saveProfile:t.saveProfile,isOwner:!t.match.params.userId},t),{},{status:t.status,savePhoto:t.savePhoto,updateStatus:t.updateStatus}))}))}}]);
//# sourceMappingURL=4.3ff15529.chunk.js.map
{"version":3,"sources":["redux/profileReducer.js","components/common/UserPhoto/UserPhoto.js","redux/dialogsReducer.js","api/api.js","hoc/withAuthRedirect.js","components/common/preloader/Preloader.module.css","components/common/UserPhoto/UserPhoto.module.css","components/Friends/FriendItem/FriendItem.module.css","components/Friends/Friends.module.css","components/Users/Users.module.css","components/Navbar/Navbar.module.css","components/Header/Header.module.css","assests/img/preloader.gif","components/common/preloader/Preloader.js","redux/authReducer.js","serviceWorker.js","redux/friendsReducer.js","utils/reducerRefact.js","redux/usersReducer.js","redux/appReducer.js","redux/reduxStore.js","hoc/withLazyLoading.js","assests/img/logo.png","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Friends/FriendItem/FriendItem.jsx","components/Friends/Friends.jsx","components/Friends/FriendsContainer.jsx","assests/img/user.jpg","components/Users/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","App.js","index.js","assests/img/user.png","components/common/Paginator/Paginator.module.css"],"names":["ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","initialState","postData","id","message","likeCount","profile","status","addPost","newPostText","type","setStatus","getProfile","userId","dispatch","a","profileAPI","data","getStatus","updateStatus","resultCode","alert","savePhoto","file","photos","saveProfile","getState","auth","messages","replace","stopSubmit","_error","Promise","reject","profileReducer","state","action","UserPhoto","photo","className","classes","avatar","src","userPhotoDefault","SEND_MESSAGE","dialogsData","name","messagesData","sendMessage","newMessage","dialogsReducer","instance","axios","withCredentials","baseURL","headers","authAPI","getAuthorization","get","then","response","login","email","password","rememberMe","captcha","post","logout","delete","securityAPI","getCaptchaUrl","usersAPI","getUsers","currentPage","pageSize","unfollowUser","followUser","put","photoFile","formData","FormData","append","mapStateToPropsForRedirect","isAuth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Preloader","preloader","SET_USER_DATA","SET_USER_PHOTO","GET_CAPTCHA_URL_SUCCESS","isFetching","captchaUrl","setAuthUserData","payload","setUserPhoto","getCaptchaUrlSuccess","getAuthorizationThunkCreator","small","photoDefault","loginThunkCreator","length","url","logoutThunkCreator","authReducer","Boolean","window","location","hostname","match","friends","friendsProducer","updateObject","items","itemId","objPropName","objProps","map","item","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","usersData","totalUsersCount","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","count","filter","INITIALIZED_SUCCESS","initialized","appReducer","reducers","combineReducers","profilePage","dialogsPage","friendsPage","friendsReducer","usersPage","form","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","withLazyLoading","fallback","Header","header","logo","loginBlock","onClick","Navbar","nav","News","Music","FriendItem","friendItem","Friends","Users","followThunkCreator","unfollowThunkCreator","userBlock","userItem","userPhoto","alt","disabled","some","unfollow","follow","userInfo","Paginator","totalItemsCount","changeCurrentPage","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","pagination","console","log","selectedPage","page","e","users","User","bind","getUsersThunkCreator","totalCount","useEffect","pageNumber","DialogsContainer","lazy","ProfileContainer","Login","App","catchAllUnhandledErrors","PromiseRejectionEvent","initializeApp","addEventListener","removeEventListener","HeaderContainer","path","render","component","FriendsContainer","exact","from","dispatchResult","all","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error"],"mappings":"+XAGMA,EAAW,mBACXC,EAAmB,2BACnBC,EAAa,qBACbC,EAAqB,6BAErBC,EAAe,CACnBC,SAAU,CACR,CACEC,GAAI,EACJC,QAAS,eACTC,UAAW,IAEb,CACEF,GAAI,EACJC,QAAS,4BACTC,UAAW,KAGfC,QAAS,KACTC,OAAQ,KAuCGC,EAAU,SAACC,GAAD,MAAkB,CAAEC,KAAMb,EAAUY,gBAK9CE,EAAY,SAACJ,GAAD,MAAa,CACpCG,KAAMX,EACNQ,WAWWK,EAAa,SAACC,GAAD,8CAAY,WAAOC,GAAP,eAAAC,EAAA,sEACjBC,IAAWJ,WAAWC,GADL,OAC9BI,EAD8B,OAEpCH,EAnB0C,CAC1CJ,KAAMZ,EACNQ,QAiBwBW,IAFY,2CAAZ,uDAIbC,EAAY,SAACL,GAAD,8CAAY,WAAOC,GAAP,eAAAC,EAAA,sEAChBC,IAAWE,UAAUL,GADL,OAC7BI,EAD6B,OAEnCH,EAASH,EAAUM,IAFgB,2CAAZ,uDAIZE,EAAe,SAACZ,GAAD,8CAAY,WAAOO,GAAP,SAAAC,EAAA,+EAEjBC,IAAWG,aAAaZ,GAFP,OAGZ,IAHY,OAG3Ba,YAAkBN,EAASH,EAAUJ,IAHV,gDAKpCc,MAAM,EAAD,IAL+B,yDAAZ,uDAQfC,EAAY,SAACC,GAAD,8CAAU,WAAOT,GAAP,eAAAC,EAAA,sEACdC,IAAWM,UAAUC,GADP,OAET,KADlBN,EAD2B,QAExBG,YAAkBN,GA3BIU,EA2BsBP,EAAKA,KAAKO,OA3BpB,CAC3Cd,KAAMV,EACNwB,YAuBiC,iCAzBH,IAACA,IAyBE,OAAV,uDAIZC,EAAc,SAACnB,GAAD,8CAAa,WAAOQ,EAAUY,GAAjB,iBAAAX,EAAA,6DAChCF,EAASa,IAAWC,KAAKd,OADO,SAEnBG,IAAWS,YAAYnB,GAFJ,UAGd,KADlBW,EAFgC,QAG7BG,WAH6B,gBAGXN,EAASF,EAAWC,IAHT,8BAKpBI,EAAKW,SAAS,GAAGC,QAAQ,aAAc,IAGvDf,EAASgB,YAAW,cAAe,CAAEC,OAAQd,EAAKW,SAAS,MARvB,kBAS7BI,QAAQC,OAAOhB,EAAKW,SAAS,KATA,4CAAb,yDAaZM,IAvFQ,WAAmC,IAAlCC,EAAiC,uDAAzBlC,EAAcmC,EAAW,uCACvD,OAAQA,EAAO1B,MACb,KAAKb,EACH,OAAO,2BACFsC,GADL,IAEEjC,SAAS,GAAD,mBACHiC,EAAMjC,UADH,CAEN,CACEC,GAAI,EACJC,QAASgC,EAAO3B,YAChBJ,UAAW,OAKnB,KAAKP,EACH,OAAO,2BAAKqC,GAAZ,IAAmB7B,QAAS8B,EAAO9B,UAErC,KAAKP,EACH,OAAO,2BACFoC,GADL,IAEE5B,OAAQ6B,EAAO7B,SAGnB,KAAKP,EACH,OAAO,2BACFmC,GADL,IAEE7B,QAAQ,2BAAM6B,EAAM7B,SAAb,IAAsBkB,OAAQY,EAAOZ,WAGhD,QACE,OAAOW,K,+GCpDAE,EAAY,SAAC,GAAD,IAAGC,EAAH,EAAGA,MAAH,OACvB,qBAAKC,UAAWC,IAAQC,OAAQC,IAAKJ,GAAgBK,Q,sFCLjDC,EAAe,uBAEf3C,EAAe,CACnB4C,YAAa,CACX,CAAE1C,GAAI,EAAG2C,KAAM,UACf,CACE3C,GAAI,EACJ2C,KAAM,SAER,CACE3C,GAAI,EACJ2C,KAAM,YAER,CACE3C,GAAI,EACJ2C,KAAM,UAGVC,aAAc,CACZ,CACE5C,GAAI,EACJC,QAAS,qBAEX,CACED,GAAI,EACJC,QAAS,eAEX,CACED,GAAI,EACJC,QAAS,qBAsBF4C,EAAc,SAACC,GAAD,MAAiB,CAC1CvC,KAAMkC,EACNK,eAGaC,IAtBQ,WAAmC,IAAlCf,EAAiC,uDAAzBlC,EAAcmC,EAAW,uCACvD,OAAQA,EAAO1B,MACb,KAAKkC,EACH,OAAO,2BACFT,GADL,IAEEY,aAAa,GAAD,mBACPZ,EAAMY,cADC,CAEV,CAAE5C,GAAI,EAAGC,QAASgC,EAAOa,gBAI/B,QACE,OAAOd,K,gCC9Cb,qJAEMgB,EAAWC,SAAa,CAC5BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACP,UAAW,0CAIFC,EAAU,CACrBC,iBADqB,WAEnB,OAAON,EAASO,IAAT,WAAwBC,MAAK,SAACC,GAAD,OAAcA,EAAS3C,SAE7D4C,MAJqB,SAIfC,EAAOC,GAA+C,IAArCC,EAAoC,wDAAhBC,EAAgB,uDAAN,KACnD,OAAOd,EAASe,KAAT,aAA4B,CACjCJ,QACAC,WACAC,aACAC,aAGJE,OAZqB,WAanB,OAAOhB,EAASiB,OAAT,cAA8BT,MAAK,SAACC,GAAD,OAAcA,EAAS3C,UAIxDoD,EAAc,CACzBC,cADyB,WAEvB,OAAOnB,EAASO,IAAT,8BAIEa,EAAW,CACtBC,SADsB,SACbC,EAAaC,GACpB,OAAOvB,EACJO,IADI,qBACce,EADd,kBACmCC,IACvCf,MAAK,SAACC,GAAD,OAAcA,EAAS3C,SAEjC0D,aANsB,SAMTxE,GACX,OAAOgD,EACJiB,OADI,iBACajE,IACjBwD,MAAK,SAACC,GAAD,OAAcA,EAAS3C,KAAKG,eAEtCwD,WAXsB,SAWXzE,GACT,OAAOgD,EACJe,KADI,iBACW/D,IACfwD,MAAK,SAACC,GAAD,OAAcA,EAAS3C,KAAKG,gBAI3BJ,EAAa,CACxBJ,WADwB,SACbC,GACT,OAAOsC,EAASO,IAAT,kBAAwB7C,IAAU8C,MAAK,SAACC,GAAD,OAAcA,EAAS3C,SAEvEC,UAJwB,SAIdL,GACR,OAAOsC,EACJO,IADI,yBACkB7C,IACtB8C,MAAK,SAACC,GAAD,OAAcA,EAAS3C,SAEjCE,aATwB,SASXZ,GACX,OAAO4C,EACJ0B,IADI,iBACkB,CAAEtE,WACxBoD,MAAK,SAACC,GAAD,OAAcA,EAAS3C,SAEjCK,UAdwB,SAcdwD,GACR,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClB3B,EACJ0B,IADI,gBACiBE,EAAU,CAC9BxB,QAAS,CACP,eAAgB,yBAGnBI,MAAK,SAACC,GAAD,OAAcA,EAAS3C,SAEjCQ,YAzBwB,SAyBZnB,GACV,OAAO6C,EAAS0B,IAAT,UAAwBvE,GAASqD,MAAK,SAACC,GAAD,OAAcA,EAAS3C,W,oJCzElEiE,EAA6B,SAAC,GAAD,MAAe,CAChDC,OADiC,EAAGxD,KACvBwD,SAGFC,EAAmB,SAACC,GAAe,IACxCC,EADuC,uKAGzC,OAAKC,KAAKC,MAAML,OACT,cAACE,EAAD,eAAeE,KAAKC,QADI,cAAC,IAAD,CAAUC,GAAI,eAHJ,GACbC,IAAML,WAWtC,OAJuCM,YAAQT,EAARS,CACrCL,K,oBChBJM,EAAOC,QAAU,CAAC,UAAY,+B,oBCA9BD,EAAOC,QAAU,CAAC,OAAS,4B,oBCA3BD,EAAOC,QAAU,CAAC,WAAa,iC,oBCA/BD,EAAOC,QAAU,CAAC,QAAU,2B,yCCA5BD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,SAAW,wBAAwB,SAAW,wBAAwB,UAAY,yBAAyB,UAAY,yBAAyB,SAAW,wBAAwB,OAAS,sBAAsB,SAAW,0B,+DCA5QD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,uB,mBCAnDD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,2BAA2B,KAAO,qBAAqB,OAAS,yB,2CCDhH,G,KAAA,IAA0B,uC,kBCK1BC,IAFG,kBAAM,qBAAKvD,UAAWC,IAAQuD,UAAWrD,IAAKqD,M,iMCC1DC,EAAgB,qBAChBC,EAAiB,sBACjBC,EAA0B,+BAE1BjG,EAAe,CACnBY,OAAQ,KACRiD,MAAO,KACPD,MAAO,KACPvB,MAAO,KACP6D,YAAY,EACZhB,QAAQ,EACRiB,WAAY,MAwBDC,EAAkB,SAACxF,EAAQgD,EAAOC,EAAOqB,GACpD,MAAO,CACLzE,KAAMsF,EACNM,QAAS,CAAEzF,SAAQgD,QAAOC,QAAOqB,YAGxBoB,EAAe,SAACjE,GAC3B,MAAO,CACL5B,KAAMuF,EACN3D,UAGSkE,EAAuB,SAACJ,GAAD,MAAiB,CACnD1F,KAAMwF,EACNI,QAAS,CAAEF,gBAGAK,EAA+B,yDAAM,WAAO3F,GAAP,yBAAAC,EAAA,sEAC7ByC,IAAQC,mBADqB,UAExB,KADlBxC,EAD0C,QAEvCG,WAFuC,0BAGjBH,EAAKA,KAA1Bd,EAHsC,EAGtCA,GAAI0D,EAHkC,EAGlCA,MAAOC,EAH2B,EAG3BA,MACnBhD,EAASuF,EAAgBlG,EAAI0D,EAAOC,GAAO,IAJG,SAMvB9C,IAAWJ,WAAWT,GANC,OAOhB,QADxByD,EANwC,QAOjCpC,OAAOkF,MAAgB5F,EAASyF,EAAaI,MACrD7F,EAASyF,EAAa3C,EAASpC,OAAOkF,QARG,iCAUzCzF,GAVyC,4CAAN,uDAa/B2F,EAAoB,SAC/B9C,EACAC,EACAC,EACAC,GAJ+B,8CAK5B,WAAOnD,GAAP,iBAAAC,EAAA,sEACoByC,IAAQK,MAAMC,EAAOC,EAAUC,EAAYC,GAD/D,OAE8B,KAD3BL,EADH,QAEU3C,KAAKG,WAAkBN,EAAS2F,MAEV,KAA7B7C,EAAS3C,KAAKG,YAAmBN,EAASwD,KACxClE,EACJwD,EAAS3C,KAAKW,SAASiF,OAAS,EAC5BjD,EAAS3C,KAAKW,SAAS,GACvB,aACNd,EAASgB,YAAW,QAAS,CAAEC,OAAO,GAAD,OAAK3B,OATzC,2CAL4B,uDAkBpBkE,EAAgB,yDAAM,WAAOxD,GAAP,iBAAAC,EAAA,sEACVsD,IAAYC,gBADF,OAC3BV,EAD2B,OAE3BwC,EAAaxC,EAAS3C,KAAK6F,IACjChG,EAAS0F,EAAqBJ,IAHG,2CAAN,uDAMhBW,EAAqB,yDAAM,WAAOjG,GAAP,SAAAC,EAAA,sEACnByC,IAAQW,SADW,OAEd,IAFc,OAE7B/C,YAAkBN,EAASuF,EAAgB,KAAM,KAAM,MAAM,IAFhC,2CAAN,uDAKnBW,IAhFK,WAAmC,IAAlC7E,EAAiC,uDAAzBlC,EAAcmC,EAAW,uCACpD,OAAQA,EAAO1B,MACb,KAAKsF,EACL,KAAKE,EACH,OAAO,2BACF/D,GACAC,EAAOkE,SAGd,KAAKL,EACH,OAAO,2BACF9D,GADL,IAEEG,MAAOF,EAAOE,QAGlB,QACE,OAAOH,K,iHCtBO8E,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,8CClBApH,EAAe,CACnBqH,QAAS,CACP,CACEnH,GAAI,EACJ2C,KAAM,UAER,CACE3C,GAAI,EACJ2C,KAAM,UAER,CACE3C,GAAI,EACJ2C,KAAM,SAER,CACE3C,GAAI,EACJ2C,KAAM,QAER,CACE3C,GAAI,EACJ2C,KAAM,WASGyE,EAJS,WAAmC,IAAlCpF,EAAiC,uDAAzBlC,EAC/B,OAAOkC,G,+CC1BIqF,EAAe,SAACC,EAAOC,EAAQC,EAAaC,GACvD,OAAOH,EAAMI,KAAI,SAACC,GAChB,OAAIA,EAAKH,KAAiBD,EACjB,2BAAKI,GAASF,GAEhBE,MCFLC,EAAS,eACTC,EAAW,iBACXC,EAAY,kBACZC,EAAmB,yBACnBC,EAAwB,8BACxBC,EAAqB,2BACrBC,EAA+B,qCAE/BpI,EAAe,CACnBqI,UAAW,GACX5D,SAAU,GACV6D,gBAAiB,KACjB9D,YAAa,EACb0B,YAAY,EACZqC,oBAAqB,IA+CVC,EAAgB,SAAC5H,GAAD,MAAa,CAAEH,KAAMqH,EAAQlH,WAC7C6H,EAAkB,SAAC7H,GAAD,MAAa,CAAEH,KAAMsH,EAAUnH,WAEjD8H,EAAiB,SAAClE,GAAD,MAAkB,CAC9C/D,KAAMwH,EACNzD,gBAMWmE,EAAmB,SAACzC,GAAD,MAAiB,CAC/CzF,KAAM0H,EACNjC,eAEW0C,EAA4B,SAAC1C,EAAYtF,GAAb,MAAyB,CAChEH,KAAM2H,EACNlC,aACAtF,WAeIiI,EAAkB,uCAAG,WACzBhI,EACAD,EACAkI,EACAC,GAJyB,SAAAjI,EAAA,6DAMzBD,EAAS+H,GAA0B,EAAMhI,IANhB,SAOAkI,EAAUlI,GAPV,OAQN,IARM,QAQHC,EAASkI,EAAcnI,IAC7CC,EAAS+H,GAA0B,EAAOhI,IATjB,2CAAH,4DAkCToI,EA/GM,WAAmC,IAAlC9G,EAAiC,uDAAzBlC,EAAcmC,EAAW,uCACrD,OAAQA,EAAO1B,MACb,KAAKqH,EACH,OAAO,2BACF5F,GADL,IAEEmG,UAAWd,EAAarF,EAAMmG,UAAWlG,EAAOvB,OAAQ,KAAM,CAC5DqI,UAAU,MAIhB,KAAKlB,EACH,OAAO,2BACF7F,GADL,IAEEmG,UAAWd,EAAarF,EAAMmG,UAAWlG,EAAOvB,OAAQ,KAAM,CAC5DqI,UAAU,MAIhB,KAAKjB,EACH,OAAO,2BAAK9F,GAAZ,IAAmBmG,UAAWlG,EAAOkG,YAEvC,KAAKJ,EACH,OAAO,2BAAK/F,GAAZ,IAAmBsC,YAAarC,EAAOqC,cAEzC,KAAK0D,EACH,OAAO,2BAAKhG,GAAZ,IAAmBoG,gBAAiBnG,EAAO+G,QAE7C,KAAKf,EACH,OAAO,2BAAKjG,GAAZ,IAAmBgE,WAAY/D,EAAO+D,aAExC,KAAKkC,EACH,OAAO,2BACFlG,GADL,IAEEqG,oBAAqBpG,EAAO+D,WAAP,sBACbhE,EAAMqG,qBADO,CACcpG,EAAOvB,SACtCsB,EAAMqG,oBAAoBY,QAAO,SAACjJ,GAAD,OAAQA,IAAOiC,EAAOvB,YAG/D,QACE,OAAOsB,I,QCzDPkH,EAAsB,0BACtBpJ,EAAe,CACnBqJ,aAAa,GA4BAC,EAzBI,WAAmC,IAAlCpH,EAAiC,uDAAzBlC,EAAcmC,EAAW,uCACnD,OAAQA,EAAO1B,MACb,KAAK2I,EACH,OAAO,2BACFlH,GADL,IAEEmH,aAAa,IAGjB,QACE,OAAOnH,I,SCLPqH,EAAWC,YAAgB,CAC/BC,YAAaxH,IACbyH,YAAazG,IACb0G,YAAaC,EACbC,UAAWb,EACXtH,KAAMqF,IACN+C,KAAMC,IACNC,IAAKV,IAGDW,EAAmBhD,OAAOiD,sCAAwCC,IAQzDC,EAPDC,YACZd,EACAU,EAAiBK,YAAgBC,O,uDCrBtBC,EAAkB,SAACpF,GAC9B,OAAO,SAACG,GACN,OACE,cAAC,WAAD,CAAUkF,SAAU,cAAC5E,EAAA,EAAD,IAApB,SACE,cAACT,EAAD,eAAeG,Q,6BCPR,OAA0B,iCCiC1BmF,GA1BA,SAAC,GAAD,IAAGxF,EAAH,EAAGA,OAAQtB,EAAX,EAAWA,MAAOvB,EAAlB,EAAkBA,MAAOyE,EAAzB,EAAyBA,mBAAzB,OACb,yBAAQxE,UAAWC,KAAQoI,OAA3B,UACE,cAAC,IAAD,CAASnF,GAAI,QAAb,SACE,qBAAKlD,UAAWC,KAAQqI,KAAMnI,IAAKmI,OAErC,qBAAKtI,UAAWC,KAAQsI,WAAxB,SACG3F,EACC,qCACE,eAAC,IAAD,CAASM,GAAI,WAAYlD,UAAS,UAAKC,KAAQsF,MAA/C,UACE,+BAAOjE,IACP,cAACxB,EAAA,EAAD,CAAWC,MAAOA,OAEpB,wBACEC,UAAS,UAAKC,KAAQsF,KAAb,YAAqBtF,KAAQ2B,QACtC4G,QAAShE,EAFX,uBAQF,cAAC,IAAD,CAAStB,GAAI,SAAb,yBCjBOE,gBANS,SAAC,GAAD,IAAGhE,EAAH,EAAGA,KAAH,MAAe,CACrCwD,OAAQxD,EAAKwD,OACbtB,MAAOlC,EAAKkC,MACZvB,MAAOX,EAAKW,SAG0B,CACtCyE,wBADapB,CAEZgF,I,oBCgBYK,GAvBA,kBACb,sBAAKzI,UAAWC,KAAQyI,IAAxB,UACE,qBAAK1I,UAAWC,KAAQsF,KAAxB,SACE,cAAC,IAAD,CAASrC,GAAG,WAAZ,uBAEF,qBAAKlD,UAAWC,KAAQsF,KAAxB,SACE,cAAC,IAAD,CAASrC,GAAG,WAAZ,wBAEF,qBAAKlD,UAAWC,KAAQsF,KAAxB,SACE,cAAC,IAAD,CAASrC,GAAG,QAAZ,oBAEF,qBAAKlD,UAAWC,KAAQsF,KAAxB,SACE,cAAC,IAAD,CAASrC,GAAG,SAAZ,qBAEF,qBAAKlD,UAAWC,KAAQsF,KAAxB,SACE,cAAC,IAAD,CAASrC,GAAG,WAAZ,uBAEF,qBAAKlD,UAAWC,KAAQsF,KAAxB,SACE,cAAC,IAAD,CAASrC,GAAG,SAAZ,yBCjBSyF,I,OAFF,kBAAM,+ECIJC,I,OAJD,WACZ,OAAO,2C,+BCMMC,GANI,SAAC,GAAD,IAAGtI,EAAH,EAAGA,KAAM3C,EAAT,EAASA,GAAT,OACjB,cAAC,IAAD,CAASsF,GAAE,mBAActF,GAAMoC,UAAWC,KAAQ6I,WAAlD,SACGvI,K,qBCQUwI,GAVC,SAAC,GAAiB,IAAfhE,EAAc,EAAdA,QACjB,OACE,qBAAK/E,UAAWC,KAAQ8E,QAAxB,SACGA,EAAQO,KAAI,SAACC,GAAD,OACX,cAAC,GAAD,CAA0B3H,GAAI2H,EAAK3H,GAAI2C,KAAMgF,EAAKhF,MAAjCgF,EAAK3H,UCcfiK,eAAQzE,aANC,SAAC,GACvB,MAAO,CACL2B,QAFyC,EAAlBsC,YAEFtC,YAIwBlC,KAAlCgF,CAAoDkB,ICvBpD,OAA0B,iC,oBCgE1BC,GA1DD,SAAC,GAAD,IACZzD,EADY,EACZA,KACA0D,EAFY,EAEZA,mBACAC,EAHY,EAGZA,qBACAjD,EAJY,EAIZA,oBAJY,OAMZ,sBAAKjG,UAAWC,KAAQkJ,UAAxB,UACE,sBAAKnJ,UAAWC,KAAQmJ,SAAxB,UACE,cAAC,IAAD,CAASlG,GAAE,mBAAcqC,EAAK3H,IAA9B,SACE,qBACEoC,UAAWC,KAAQoJ,UACnBlJ,IAA2B,OAAtBoF,EAAKtG,OAAOkF,MAAiBoB,EAAKtG,OAAOkF,MAAQkF,GACtDC,IAAI,OAGP/D,EAAKoB,SACJ,wBACE4C,SAAUtD,EAAoBuD,MAAK,SAAC5L,GAAD,OAAQA,IAAO2H,EAAK3H,MACvDoC,UAAS,UAAKC,KAAQ0G,SAAb,YAAyB1G,KAAQwJ,UAC1CjB,QAAS,WACPU,EAAqB3D,EAAK3H,KAJ9B,sBAUA,wBACE2L,SAAUtD,EAAoBuD,MAAK,SAAC5L,GAAD,OAAQA,IAAO2H,EAAK3H,MACvDoC,UAAS,UAAKC,KAAQ0G,SAAb,YAAyB1G,KAAQyJ,QAC1ClB,QAAS,WACPS,EAAmB1D,EAAK3H,KAJ5B,uBAWJ,sBAAKoC,UAAWC,KAAQ0J,SAAxB,UACE,iCACE,8BACE,2CADF,IAC0BpE,EAAKhF,QAE/B,8BACE,6CADF,IAC4BgF,EAAKvH,aAGnC,iCACE,8BACE,8CADF,IAC6B,kBAE7B,8BACE,2CADF,IAC0B,uBA7CQuH,EAAK3H,K,uCCgDhCgM,GAtDG,SAAC,GASjB,IAHK,IALLC,EAKI,EALJA,gBACA3H,EAII,EAJJA,YACAC,EAGI,EAHJA,SACA2H,EAEI,EAFJA,kBAEI,IADJC,mBACI,MADU,GACV,EACAC,EAAaC,KAAKC,KAAKL,EAAkB1H,GACzCgI,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC/BD,EAAME,KAAKD,GAEb,IAAIE,EAAeL,KAAKC,KAAKF,EAAaD,GANtC,EAOoCQ,mBAAS,GAP7C,oBAOCC,EAPD,KAOgBC,EAPhB,KASAC,GAAyBF,EAAgB,GAAKT,EAAc,EAC5DY,EAAyBH,EAAgBT,EAO7C,OACE,sBAAK/J,UAAWC,KAAQ2K,WAAxB,UACGJ,EAAgB,GAAK,wBAAQhC,QARjB,WACfiC,EAAiBD,EAAgB,IAOT,eAErBL,EACEtD,QACC,SAACtB,GAAD,OACEA,GAAQmF,GAAyBnF,GAAQoF,KAE5CrF,KAAI,SAACC,GAEJ,OADAsF,QAAQC,IAAI,GAEV,sBACE9K,UACEkC,IAAgBqD,EAAOtF,KAAQ8K,aAAe9K,KAAQ+K,KAExDxC,QAAS,SAACyC,GACRnB,EAAkBvE,IALtB,SASGA,GAFIA,MAOZ+E,EAAeE,GAAiB,wBAAQhC,QA7B5B,WACfiC,EAAiBD,EAAgB,IA4BE,mBChBxBxB,GAhCD,SAAC,GASR,IARLhD,EAQI,EARJA,gBACA9D,EAOI,EAPJA,YACAC,EAMI,EANJA,SACA2H,EAKI,EALJA,kBACA/D,EAII,EAJJA,UACAkD,EAGI,EAHJA,mBACAC,EAEI,EAFJA,qBACAjD,EACI,EADJA,oBAEA,OACE,sBAAKjG,UAAWC,KAAQiL,MAAxB,UACE,cAAC,GAAD,CACE/I,SAAUA,EACV2H,kBAAmBA,EACnBD,gBAAiB7D,EACjB9D,YAAaA,IAEf,8BACG6D,EAAUT,KAAI,SAACC,GAAD,OACb,cAAC4F,GAAD,CAEElF,oBAAqBA,EACrBiD,qBAAsBA,EACtBD,mBAAoBA,EACpB1D,KAAMA,GAJDA,EAAK3H,aCuDPiK,eACbzE,aAnBsB,SAAC,GAAD,IAAGmE,EAAH,EAAGA,UAAH,MAAoB,CAC1CxB,UAAWwB,EAAUxB,UACrB5D,SAAUoF,EAAUpF,SACpB6D,gBAAiBuB,EAAUvB,gBAC3B9D,YAAaqF,EAAUrF,YACvB0B,WAAY2D,EAAU3D,WACtBqC,oBAAqBsB,EAAUtB,uBAaN,CACvBgD,mBjBwB8B,SAAC3K,GACjC,8CAAO,WAAOC,GAAP,SAAAC,EAAA,sDACL+H,EACEhI,EACAD,EACA0D,IAASK,WAAW+I,KAAK9M,GACzB4H,GALG,2CAAP,uDiBxBEgD,qBjBkCgC,SAAC5K,GACnC,8CAAO,WAAOC,GAAP,SAAAC,EAAA,sDACL+H,EACEhI,EACAD,EACA0D,IAASI,aAAagJ,KAAK9M,GAC3B6H,GALG,2CAAP,uDiBlCEC,iBACAE,4BACA+E,qBjBJgC,SAACnJ,EAAaC,GAAd,8CAA2B,WAC7D5D,GAD6D,eAAAC,EAAA,6DAG7DD,EAAS8H,GAAiB,IAC1B9H,EAAS6H,EAAelE,IAJqC,SAM1CF,IAASC,SAASC,EAAaC,GANW,OAMvDzD,EANuD,OAO7DH,GA1BuBwH,EA0BLrH,EAAKwG,MA1Be,CAAE/G,KAAMuH,EAAWK,eA2BzDxH,GAtBiCyH,EAsBLtH,EAAK4M,WAtBqB,CACtDnN,KAAMyH,EACNgB,MAAOZ,KAqBPzH,EAAS8H,GAAiB,IATmC,iCAd7B,IAACL,EALVD,IAmBsC,OAA3B,yDiBFrB8B,EA3DQ,SAAC5E,GACtBsI,qBAAU,WACRtI,EAAMoI,qBAAqBpI,EAAMf,YAAae,EAAMd,YACnD,CAACc,EAAMf,YAAae,EAAMd,WAK7B,OAAIc,EAAMW,WAAmB,cAACL,EAAA,EAAD,IAE3B,mCACE,cAAC,GAAD,2BAAWN,GAAX,IAAkB6G,kBANI,SAAC0B,GACzBvI,EAAMoI,qBAAqBG,EAAYvI,EAAMd,mBCd3CsJ,I,OAAmBtI,IAAMuI,MAAK,kBAClC,wDAEIC,GAAmBxI,IAAMuI,MAAK,kBAClC,uDAEIE,GAAQzI,IAAMuI,MAAK,kBAAM,uDAEzBG,G,4MACJC,wBAA0B,SAACC,GACzBlB,QAAQC,IAAIiB,GAEZjN,MAAM,e,kEAGNkE,KAAKC,MAAM+I,gBACXrH,OAAOsH,iBAAiB,qBAAsBjJ,KAAK8I,2B,6CAGnDnH,OAAOuH,oBACL,qBACAlJ,KAAK8I,2B,+BAIP,OAAK9I,KAAKC,MAAM8D,YAEd,sBAAK/G,UAAU,cAAf,UACE,cAACmM,GAAD,IACA,cAAC,GAAD,IACA,qBAAKnM,UAAU,sBAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACEoM,KAAK,oBACLC,OAAQnE,EAAgByD,MAE1B,cAAC,IAAD,CAAOS,KAAK,WAAWC,OAAQnE,EAAgBuD,MAC/C,cAAC,IAAD,CAAOW,KAAK,QAAQE,UAAW3D,KAC/B,cAAC,IAAD,CAAOyD,KAAK,SAASE,UAAW1D,KAChC,cAAC,IAAD,CAAOwD,KAAK,WAAWC,OAAQ,kBAAM,cAACE,GAAD,OACrC,cAAC,IAAD,CAAOH,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,IAAD,CAAOG,OAAK,EAACJ,KAAK,SAASC,OAAQnE,EAAgB0D,MACnD,cAAC,IAAD,CAAUY,OAAK,EAACC,KAAK,IAAIvJ,GAAG,aAC5B,cAAC,IAAD,CAAOkJ,KAAK,IAAIC,OAAQ,kBAAM,iDAlBF,cAAC9I,EAAA,EAAD,Q,GAjBtBJ,IAAML,WA6CTM,gBAHS,SAAC,GAAD,MAAc,CACpC2D,YADsB,EAAGW,IACRX,eAEqB,CAAEiF,cjB5Cb,kBAAM,SAACzN,GAClC,IAAMmO,EAAiBnO,EAAS2F,eAChCzE,QAAQkN,IAAI,CAACD,IAAiBtL,MAAK,WACjC7C,EAPqC,CACvCJ,KAAM2I,UiB+CO1D,CAA4CyI,IC1D3De,IAASP,OACP,cAAC,IAAMQ,WAAP,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAU/E,MAAOA,EAAjB,SACE,cAAC,GAAD,UAINgF,SAASC,eAAe,StBgHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrB9L,MAAK,SAAA+L,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLzC,QAAQyC,MAAMA,EAAMzP,a,gCuBzIb,QAA0B,kC,mBCCzCwF,EAAOC,QAAU,CAAC,WAAa,8BAA8B,aAAe,gCAAgC,KAAO,2B","file":"static/js/main.0a679263.chunk.js","sourcesContent":["import { stopSubmit } from \"redux-form\";\r\nimport { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = \"profile/ADD-POST\";\r\nconst SET_USER_PROFILE = \"profile/SET_USER_PROFILE\";\r\nconst SET_STATUS = \"profile/SET_STATUS\";\r\nconst SAVE_PHOTO_SUCCESS = \"profile/SAVE_PHOTO_SUCCESS\";\r\n\r\nconst initialState = {\r\n  postData: [\r\n    {\r\n      id: 1,\r\n      message: \"Hi, nice day\",\r\n      likeCount: 15,\r\n    },\r\n    {\r\n      id: 2,\r\n      message: \"Hello, it's my first post\",\r\n      likeCount: 12,\r\n    },\r\n  ],\r\n  profile: null,\r\n  status: \"1\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_POST: {\r\n      return {\r\n        ...state,\r\n        postData: [\r\n          ...state.postData,\r\n          {\r\n            id: 5,\r\n            message: action.newPostText,\r\n            likeCount: 0,\r\n          },\r\n        ],\r\n      };\r\n    }\r\n    case SET_USER_PROFILE: {\r\n      return { ...state, profile: action.profile };\r\n    }\r\n    case SET_STATUS: {\r\n      return {\r\n        ...state,\r\n        status: action.status,\r\n      };\r\n    }\r\n    case SAVE_PHOTO_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        profile: { ...state.profile, photos: action.photos },\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n//action creator\r\nexport const addPost = (newPostText) => ({ type: ADD_POST, newPostText });\r\nexport const setUserProfile = (profile) => ({\r\n  type: SET_USER_PROFILE,\r\n  profile,\r\n});\r\nexport const setStatus = (status) => ({\r\n  type: SET_STATUS,\r\n  status,\r\n});\r\nexport const savePhotoSuccess = (photos) => ({\r\n  type: SAVE_PHOTO_SUCCESS,\r\n  photos,\r\n});\r\nexport const saveProfileSuccess = (photos) => ({\r\n  type: SAVE_PHOTO_SUCCESS,\r\n  photos,\r\n});\r\n//thunk creator\r\nexport const getProfile = (userId) => async (dispatch) => {\r\n  const data = await profileAPI.getProfile(userId);\r\n  dispatch(setUserProfile(data));\r\n};\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const data = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(data));\r\n};\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  try {\r\n    const data = await profileAPI.updateStatus(status);\r\n    if (data.resultCode === 0) dispatch(setStatus(status));\r\n  } catch (reject) {\r\n    alert(reject);\r\n  }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  const data = await profileAPI.savePhoto(file);\r\n  if (data.resultCode === 0) dispatch(savePhotoSuccess(data.data.photos));\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n  const userId = getState().auth.userId;\r\n  const data = await profileAPI.saveProfile(profile);\r\n  if (data.resultCode === 0) dispatch(getProfile(userId));\r\n  else {\r\n    const message = data.messages[0].replace(/.*\\->\\W*/gi, \"\");\r\n    //сделать подсказку невалидных полей\r\n    // const a = message.slice(0, message.length - 1);\r\n    dispatch(stopSubmit(\"profileInfo\", { _error: data.messages[0] }));\r\n    return Promise.reject(data.messages[0]); //??(возвращает ошибку)\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","import React from \"react\";\r\nimport classes from \"./UserPhoto.module.css\";\r\nimport userPhotoDefault from \"../../../assests/img/user.png\";\r\n\r\nexport const UserPhoto = ({ photo }) => (\r\n  <img className={classes.avatar} src={photo ? photo : userPhotoDefault} />\r\n);\r\n","const SEND_MESSAGE = \"dialogs/SEND-MESSAGE\";\r\n\r\nconst initialState = {\r\n  dialogsData: [\r\n    { id: 1, name: \"Viktor\" },\r\n    {\r\n      id: 2,\r\n      name: \"Eldar\",\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Vladimir\",\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Vasya\",\r\n    },\r\n  ],\r\n  messagesData: [\r\n    {\r\n      id: 1,\r\n      message: \"Hi, give me money\",\r\n    },\r\n    {\r\n      id: 2,\r\n      message: \"We go walk?\",\r\n    },\r\n    {\r\n      id: 3,\r\n      message: \"I, get my money\",\r\n    },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SEND_MESSAGE: {\r\n      return {\r\n        ...state,\r\n        messagesData: [\r\n          ...state.messagesData,\r\n          { id: 4, message: action.newMessage },\r\n        ],\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n//action creator\r\nexport const sendMessage = (newMessage) => ({\r\n  type: SEND_MESSAGE,\r\n  newMessage,\r\n});\r\n\r\nexport default dialogsReducer;\r\n","import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n  headers: {\r\n    \"API-KEY\": \"1fcabdac-f36b-4011-9477-77ed629578b8\",\r\n  },\r\n});\r\n\r\nexport const authAPI = {\r\n  getAuthorization() {\r\n    return instance.get(`auth/me`).then((response) => response.data);\r\n  },\r\n  login(email, password, rememberMe = false, captcha = null) {\r\n    return instance.post(`auth/login`, {\r\n      email,\r\n      password,\r\n      rememberMe,\r\n      captcha,\r\n    });\r\n  },\r\n  logout() {\r\n    return instance.delete(`auth/login`).then((response) => response.data);\r\n  },\r\n};\r\n\r\nexport const securityAPI = {\r\n  getCaptchaUrl() {\r\n    return instance.get(`security/get-captcha-url`);\r\n  },\r\n};\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage, pageSize) {\r\n    return instance\r\n      .get(`users?page=${currentPage}&count=${pageSize}`)\r\n      .then((response) => response.data);\r\n  },\r\n  unfollowUser(id) {\r\n    return instance\r\n      .delete(`follow/${id}`)\r\n      .then((response) => response.data.resultCode);\r\n  },\r\n  followUser(id) {\r\n    return instance\r\n      .post(`follow/${id}`)\r\n      .then((response) => response.data.resultCode);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`).then((response) => response.data);\r\n  },\r\n  getStatus(userId) {\r\n    return instance\r\n      .get(`profile/status/${userId}`)\r\n      .then((response) => response.data);\r\n  },\r\n  updateStatus(status) {\r\n    return instance\r\n      .put(`profile/status`, { status })\r\n      .then((response) => response.data);\r\n  },\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append(\"image\", photoFile);\r\n    return instance\r\n      .put(`profile/photo`, formData, {\r\n        headers: {\r\n          \"Content-Type\": \"multipart/form-data\",\r\n        },\r\n      })\r\n      .then((response) => response.data);\r\n  },\r\n  saveProfile(profile) {\r\n    return instance.put(`profile`, profile).then((response) => response.data);\r\n  },\r\n};\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst mapStateToPropsForRedirect = ({ auth }) => ({\r\n  isAuth: auth.isAuth,\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={\"/login\"} />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  const ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__382hD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"UserPhoto_avatar__36XI1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendItem\":\"FriendItem_friendItem__3bmhu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__3mLi5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__wRdJi\",\"userItem\":\"Users_userItem__3s7Xc\",\"userInfo\":\"Users_userInfo__1k3K9\",\"userPhoto\":\"Users_userPhoto__vf8RQ\",\"userBlock\":\"Users_userBlock__1IN3I\",\"followed\":\"Users_followed__2MW86\",\"follow\":\"Users_follow__3ERoQ\",\"unfollow\":\"Users_unfollow__2BAtM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3M5u1\",\"item\":\"Navbar_item__IQqLs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__12p0F\",\"loginBlock\":\"Header_loginBlock__3tcly\",\"item\":\"Header_item__3lmLA\",\"logout\":\"Header_logout__3ju9b\"};","export default __webpack_public_path__ + \"static/media/preloader.79a159df.gif\";","import React from \"react\";\r\nimport preloader from \"../../../assests/img/preloader.gif\";\r\nimport classes from \"./Preloader.module.css\";\r\nconst Preloader = () => <img className={classes.preloader} src={preloader} />;\r\n\r\nexport default Preloader;\r\n","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI, securityAPI, profileAPI } from \"../api/api\";\r\nimport photoDefault from \"../assests/img/user.png\";\r\n\r\nconst SET_USER_DATA = \"auth/SET_USER_DATA\";\r\nconst SET_USER_PHOTO = \"auth/SET_USER_PHOTO\";\r\nconst GET_CAPTCHA_URL_SUCCESS = \"auth/GET_CAPTCHA_URL_SUCCESS\";\r\n\r\nconst initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  photo: null,\r\n  isFetching: false,\r\n  isAuth: false,\r\n  captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_USER_DATA:\r\n    case GET_CAPTCHA_URL_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      };\r\n    }\r\n    case SET_USER_PHOTO: {\r\n      return {\r\n        ...state,\r\n        photo: action.photo,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (userId, login, email, isAuth) => {\r\n  return {\r\n    type: SET_USER_DATA,\r\n    payload: { userId, login, email, isAuth },\r\n  };\r\n};\r\nexport const setUserPhoto = (photo) => {\r\n  return {\r\n    type: SET_USER_PHOTO,\r\n    photo,\r\n  };\r\n};\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n  type: GET_CAPTCHA_URL_SUCCESS,\r\n  payload: { captchaUrl },\r\n});\r\n//thunk Creator\r\nexport const getAuthorizationThunkCreator = () => async (dispatch) => {\r\n  const data = await authAPI.getAuthorization();\r\n  if (data.resultCode === 0) {\r\n    const { id, login, email } = data.data;\r\n    dispatch(setAuthUserData(id, login, email, true));\r\n    //if login === true -> setPhotos\r\n    const response = await profileAPI.getProfile(id);\r\n    if (response.photos.small === null) dispatch(setUserPhoto(photoDefault));\r\n    else dispatch(setUserPhoto(response.photos.small));\r\n  }\r\n  return data;\r\n};\r\n\r\nexport const loginThunkCreator = (\r\n  email,\r\n  password,\r\n  rememberMe,\r\n  captcha\r\n) => async (dispatch) => {\r\n  const response = await authAPI.login(email, password, rememberMe, captcha);\r\n  if (response.data.resultCode === 0) dispatch(getAuthorizationThunkCreator());\r\n  else {\r\n    if (response.data.resultCode === 10) dispatch(getCaptchaUrl());\r\n    const message =\r\n      response.data.messages.length > 0\r\n        ? response.data.messages[0]\r\n        : \"Some error\";\r\n    dispatch(stopSubmit(\"login\", { _error: `${message}` }));\r\n  }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n  const response = await securityAPI.getCaptchaUrl();\r\n  const captchaUrl = response.data.url;\r\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport const logoutThunkCreator = () => async (dispatch) => {\r\n  const data = await authAPI.logout();\r\n  if (data.resultCode === 0) dispatch(setAuthUserData(null, null, null, false));\r\n};\r\n\r\nexport default authReducer;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\r\n  friends: [\r\n    {\r\n      id: 1,\r\n      name: \"Viktor\",\r\n    },\r\n    {\r\n      id: 2,\r\n      name: \"Polyna\",\r\n    },\r\n    {\r\n      id: 3,\r\n      name: \"Eldar\",\r\n    },\r\n    {\r\n      id: 4,\r\n      name: \"Mary\",\r\n    },\r\n    {\r\n      id: 5,\r\n      name: \"Denis\",\r\n    },\r\n  ],\r\n};\r\n\r\nconst friendsProducer = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\nexport default friendsProducer;\r\n","export const updateObject = (items, itemId, objPropName, objProps) => {\r\n  return items.map((item) => {\r\n    if (item[objPropName] === itemId) {\r\n      return { ...item, ...objProps };\r\n    }\r\n    return item;\r\n  });\r\n};\r\n","import { usersAPI } from \"../api/api\";\r\nimport { updateObject } from \"../utils/reducerRefact\";\r\n\r\nconst FOLLOW = \"users/FOLLOW\";\r\nconst UNFOLLOW = \"users/UNFOLLOW\";\r\nconst SET_USERS = \"users/SET_USERS\";\r\nconst SET_CURRENT_PAGE = \"users/SET_CURRENT_PAGE\";\r\nconst SET_TOTAL_USERS_COUNT = \"users/SET_TOTAL_USERS_COUNT\";\r\nconst TOGGLE_IS_FETCHING = \"users/TOGGLE_IS_FETCHING\";\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = \"users/TOGGLE_IS_FOLLOWING_PROGRESS\";\r\n\r\nconst initialState = {\r\n  usersData: [],\r\n  pageSize: 10,\r\n  totalUsersCount: null,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case FOLLOW: {\r\n      return {\r\n        ...state,\r\n        usersData: updateObject(state.usersData, action.userId, \"id\", {\r\n          followed: true,\r\n        }),\r\n      };\r\n    }\r\n    case UNFOLLOW: {\r\n      return {\r\n        ...state,\r\n        usersData: updateObject(state.usersData, action.userId, \"id\", {\r\n          followed: false,\r\n        }),\r\n      };\r\n    }\r\n    case SET_USERS: {\r\n      return { ...state, usersData: action.usersData };\r\n    }\r\n    case SET_CURRENT_PAGE: {\r\n      return { ...state, currentPage: action.currentPage };\r\n    }\r\n    case SET_TOTAL_USERS_COUNT: {\r\n      return { ...state, totalUsersCount: action.count };\r\n    }\r\n    case TOGGLE_IS_FETCHING: {\r\n      return { ...state, isFetching: action.isFetching };\r\n    }\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter((id) => id !== action.userId),\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n//action creator\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\r\nexport const setUsers = (usersData) => ({ type: SET_USERS, usersData });\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: SET_CURRENT_PAGE,\r\n  currentPage,\r\n});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: SET_TOTAL_USERS_COUNT,\r\n  count: totalUsersCount,\r\n});\r\nexport const toggleIsFetching = (isFetching) => ({\r\n  type: TOGGLE_IS_FETCHING,\r\n  isFetching,\r\n});\r\nexport const toggleIsFollowingProgress = (isFetching, userId) => ({\r\n  type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n  isFetching,\r\n  userId,\r\n});\r\n//thunk creator\r\nexport const getUsersThunkCreator = (currentPage, pageSize) => async (\r\n  dispatch\r\n) => {\r\n  dispatch(toggleIsFetching(true));\r\n  dispatch(setCurrentPage(currentPage));\r\n\r\n  const data = await usersAPI.getUsers(currentPage, pageSize);\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalUsersCount(data.totalCount));\r\n  dispatch(toggleIsFetching(false));\r\n};\r\n//исключение дублирования кода\r\nconst followUnfollowFlow = async (\r\n  dispatch,\r\n  userId,\r\n  apiMethod,\r\n  actionCreator\r\n) => {\r\n  dispatch(toggleIsFollowingProgress(true, userId));\r\n  const resultCode = await apiMethod(userId);\r\n  if (resultCode === 0) dispatch(actionCreator(userId));\r\n  dispatch(toggleIsFollowingProgress(false, userId));\r\n};\r\n\r\nexport const followThunkCreator = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.followUser.bind(userId),\r\n      followSuccess\r\n    );\r\n  };\r\n};\r\n\r\nexport const unfollowThunkCreator = (userId) => {\r\n  return async (dispatch) => {\r\n    followUnfollowFlow(\r\n      dispatch,\r\n      userId,\r\n      usersAPI.unfollowUser.bind(userId),\r\n      unfollowSuccess\r\n    );\r\n  };\r\n};\r\n\r\nexport default usersReducer;\r\n","import { getAuthorizationThunkCreator } from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"app/INITIALIZED_SUCCESS\";\r\nconst initialState = {\r\n  initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS: {\r\n      return {\r\n        ...state,\r\n        initialized: true,\r\n      };\r\n    }\r\n    default: {\r\n      return state;\r\n    }\r\n  }\r\n};\r\n//actionCreator\r\nexport const initializedSuccess = () => ({\r\n  type: INITIALIZED_SUCCESS,\r\n});\r\n//thunkCreator\r\nexport const initializeApp = () => (dispatch) => {\r\n  const dispatchResult = dispatch(getAuthorizationThunkCreator());\r\n  Promise.all([dispatchResult]).then(() => {\r\n    dispatch(initializedSuccess());\r\n  });\r\n};\r\n\r\nexport default appReducer;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\n\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport friendsReducer from \"./friendsReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport appReducer from \"./appReducer\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  friendsPage: friendsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\n//extension for redux\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware))\r\n);\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;\r\n","import React, { Suspense } from \"react\";\r\nimport Preloader from \"../components/common/preloader/Preloader\";\r\n\r\nexport const withLazyLoading = (Component) => {\r\n  return (props) => {\r\n    return (\r\n      <Suspense fallback={<Preloader />}>\r\n        <Component {...props} />\r\n      </Suspense>\r\n    );\r\n  };\r\n};\r\n","export default __webpack_public_path__ + \"static/media/logo.0010b5e9.png\";","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport { UserPhoto } from \"../common/UserPhoto/UserPhoto\";\r\nimport classes from \"./Header.module.css\";\r\nimport logo from \"../../assests/img/logo.png\";\r\n\r\nconst Header = ({ isAuth, login, photo, logoutThunkCreator }) => (\r\n  <header className={classes.header}>\r\n    <NavLink to={\"/news\"}>\r\n      <img className={classes.logo} src={logo} />\r\n    </NavLink>\r\n    <div className={classes.loginBlock}>\r\n      {isAuth ? (\r\n        <>\r\n          <NavLink to={\"/profile\"} className={`${classes.item}`}>\r\n            <span>{login}</span>\r\n            <UserPhoto photo={photo} />\r\n          </NavLink>\r\n          <button\r\n            className={`${classes.item} ${classes.logout}`}\r\n            onClick={logoutThunkCreator}\r\n          >\r\n            Logout\r\n          </button>\r\n        </>\r\n      ) : (\r\n        <NavLink to={\"/login\"}>Login</NavLink>\r\n      )}\r\n    </div>\r\n  </header>\r\n);\r\n\r\nexport default Header;\r\n","import { connect } from \"react-redux\";\r\nimport { logoutThunkCreator } from \"../../redux/authReducer\";\r\nimport Header from \"./Header\";\r\n\r\nconst mapStateToProps = ({ auth }) => ({\r\n  isAuth: auth.isAuth,\r\n  login: auth.login,\r\n  photo: auth.photo,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  logoutThunkCreator,\r\n})(Header);\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport classes from \"./Navbar.module.css\";\r\n\r\nconst Navbar = () => (\r\n  <nav className={classes.nav}>\r\n    <div className={classes.item}>\r\n      <NavLink to=\"/profile\">Profile</NavLink>\r\n    </div>\r\n    <div className={classes.item}>\r\n      <NavLink to=\"/dialogs\">Messages</NavLink>\r\n    </div>\r\n    <div className={classes.item}>\r\n      <NavLink to=\"/news\">News</NavLink>\r\n    </div>\r\n    <div className={classes.item}>\r\n      <NavLink to=\"/music\">Music</NavLink>\r\n    </div>\r\n    <div className={classes.item}>\r\n      <NavLink to=\"/friends\">Friends</NavLink>\r\n    </div>\r\n    <div className={classes.item}>\r\n      <NavLink to=\"/users\">Users</NavLink>\r\n    </div>\r\n  </nav>\r\n);\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\n\r\nimport classes from \"./News.module.css\";\r\n\r\nconst News = () => <div>Новости</div>;\r\n\r\nexport default News;\r\n","import React from \"react\";\r\n\r\nimport classes from \"./Music.module.css\";\r\n\r\nconst Music = () => {\r\n  return <div>Music!</div>;\r\n};\r\n\r\nexport default Music;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport classes from \"./FriendItem.module.css\";\r\n\r\nconst FriendItem = ({ name, id }) => (\r\n  <NavLink to={`/friends/${id}`} className={classes.friendItem}>\r\n    {name}\r\n  </NavLink>\r\n);\r\n\r\nexport default FriendItem;\r\n","import React from \"react\";\r\n\r\nimport FriendItem from \"./FriendItem/FriendItem\";\r\nimport classes from \"./Friends.module.css\";\r\n\r\nconst Friends = ({ friends }) => {\r\n  return (\r\n    <div className={classes.friends}>\r\n      {friends.map((item) => (\r\n        <FriendItem key={item.id} id={item.id} name={item.name} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Friends;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\r\n\r\nimport Friends from \"./Friends\";\r\n\r\n// const FriendsContainer = () => {\r\n//   return (\r\n//     <StoreContext.Consumer>\r\n//       {({ getState }) => {\r\n//         return <Friends friends={getState().friendsPage.friends} />;\r\n//       }}\r\n//     </StoreContext.Consumer>\r\n//   );\r\n// };\r\n\r\nconst mapStateToProps = ({ friendsPage }) => {\r\n  return {\r\n    friends: friendsPage.friends,\r\n  };\r\n};\r\n\r\nexport default compose(connect(mapStateToProps), withAuthRedirect)(Friends);\r\n","export default __webpack_public_path__ + \"static/media/user.ff616b29.jpg\";","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nimport userPhoto from \"../../assests/img/user.jpg\";\r\nimport classes from \"./Users.module.css\";\r\n\r\nconst Users = ({\r\n  item,\r\n  followThunkCreator,\r\n  unfollowThunkCreator,\r\n  followingInProgress,\r\n}) => (\r\n  <div className={classes.userBlock} key={item.id}>\r\n    <div className={classes.userItem}>\r\n      <NavLink to={`/profile/${item.id}`}>\r\n        <img\r\n          className={classes.userPhoto}\r\n          src={item.photos.small !== null ? item.photos.small : userPhoto}\r\n          alt=\"\"\r\n        />\r\n      </NavLink>\r\n      {item.followed ? (\r\n        <button\r\n          disabled={followingInProgress.some((id) => id === item.id)}\r\n          className={`${classes.followed} ${classes.unfollow}`}\r\n          onClick={() => {\r\n            unfollowThunkCreator(item.id);\r\n          }}\r\n        >\r\n          Unfollow\r\n        </button>\r\n      ) : (\r\n        <button\r\n          disabled={followingInProgress.some((id) => id === item.id)}\r\n          className={`${classes.followed} ${classes.follow}`}\r\n          onClick={() => {\r\n            followThunkCreator(item.id);\r\n          }}\r\n        >\r\n          Follow\r\n        </button>\r\n      )}\r\n    </div>\r\n    <div className={classes.userInfo}>\r\n      <span>\r\n        <p>\r\n          <strong>Name:</strong> {item.name}\r\n        </p>\r\n        <p>\r\n          <strong>Status:</strong> {item.status}\r\n        </p>\r\n      </span>\r\n      <span>\r\n        <p>\r\n          <strong>Country:</strong> {\"item.country\"}\r\n        </p>\r\n        <p>\r\n          <strong>City:</strong> {\"item.city\"}\r\n        </p>\r\n      </span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default Users;\r\n","import { logDOM } from \"@testing-library/react\";\r\nimport React, { useState } from \"react\";\r\nimport { MemoryRouter } from \"react-router-dom\";\r\n\r\nimport classes from \"./Paginator.module.css\";\r\n\r\nconst Paginator = ({\r\n  totalItemsCount,\r\n  currentPage,\r\n  pageSize,\r\n  changeCurrentPage,\r\n  portionSize = 10,\r\n}) => {\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  let pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n  const onBClick = () => {\r\n    setPortionNumber(portionNumber - 1);\r\n  };\r\n  const onAClick = () => {\r\n    setPortionNumber(portionNumber + 1);\r\n  };\r\n  return (\r\n    <div className={classes.pagination}>\r\n      {portionNumber > 1 && <button onClick={onBClick}>a</button>}\r\n\r\n      {pages\r\n        .filter(\r\n          (item) =>\r\n            item >= leftPortionPageNumber && item <= rightPortionPageNumber\r\n        )\r\n        .map((item) => {\r\n          console.log(1);\r\n          return (\r\n            <span\r\n              className={\r\n                currentPage === item ? classes.selectedPage : classes.page\r\n              }\r\n              onClick={(e) => {\r\n                changeCurrentPage(item);\r\n              }}\r\n              key={item}\r\n            >\r\n              {item}\r\n            </span>\r\n          );\r\n        })}\r\n\r\n      {portionCount > portionNumber && <button onClick={onAClick}>b</button>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\n\r\nimport User from \"./User.jsx\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nimport classes from \"./Users.module.css\";\r\n\r\nconst Users = ({\r\n  totalUsersCount,\r\n  currentPage,\r\n  pageSize,\r\n  changeCurrentPage,\r\n  usersData,\r\n  followThunkCreator,\r\n  unfollowThunkCreator,\r\n  followingInProgress,\r\n}) => {\r\n  return (\r\n    <div className={classes.users}>\r\n      <Paginator\r\n        pageSize={pageSize}\r\n        changeCurrentPage={changeCurrentPage}\r\n        totalItemsCount={totalUsersCount}\r\n        currentPage={currentPage}\r\n      />\r\n      <div>\r\n        {usersData.map((item) => (\r\n          <User\r\n            key={item.id}\r\n            followingInProgress={followingInProgress}\r\n            unfollowThunkCreator={unfollowThunkCreator}\r\n            followThunkCreator={followThunkCreator}\r\n            item={item}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Users;\r\n","import React from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\n\r\nimport {\r\n  followThunkCreator,\r\n  getUsersThunkCreator,\r\n  setCurrentPage,\r\n  toggleIsFollowingProgress,\r\n  unfollowThunkCreator,\r\n} from \"../../redux/usersReducer\";\r\n// import {\r\n//   getUsers,\r\n//   getPageSize,\r\n//   getTotalUsersCount,\r\n//   getCurrentPage,\r\n//   getIsFetching,\r\n//   getFollowingInProgress,\r\n// } from \"../../redux/usersSelectors\";\r\n\r\nimport Preloader from \"../common/preloader/Preloader\";\r\nimport Users from \"./Users\";\r\n\r\nconst UsersContainer = (props) => {\r\n  useEffect(() => {\r\n    props.getUsersThunkCreator(props.currentPage, props.pageSize);\r\n  }, [props.currentPage, props.pageSize]);\r\n\r\n  const changeCurrentPage = (pageNumber) => {\r\n    props.getUsersThunkCreator(pageNumber, props.pageSize);\r\n  };\r\n  if (props.isFetching) return <Preloader />;\r\n  return (\r\n    <>\r\n      <Users {...props} changeCurrentPage={changeCurrentPage} />\r\n    </>\r\n  );\r\n};\r\n\r\n// class UsersContainer extends React.Component {\r\n//   componentDidMount() {\r\n//     this.props.getUsersThunkCreator(\r\n//       this.props.currentPage,\r\n//       this.props.pageSize\r\n//     );\r\n//   }\r\n\r\n//   changeCurrentPage = (pageNumber) => {\r\n//     this.props.getUsersThunkCreator(pageNumber);\r\n//   };\r\n\r\n//   render() {\r\n//     console.log(\"render\");\r\n//     if (this.props.isFetching) {\r\n//       return <Preloader />;\r\n//     }\r\n//     return (\r\n//       <>\r\n//         <Users {...this.props} changeCurrentPage={this.changeCurrentPage} />\r\n//       </>\r\n//     );\r\n//   }\r\n// }\r\n\r\nconst mapStateToProps = ({ usersPage }) => ({\r\n  usersData: usersPage.usersData,\r\n  pageSize: usersPage.pageSize,\r\n  totalUsersCount: usersPage.totalUsersCount,\r\n  currentPage: usersPage.currentPage,\r\n  isFetching: usersPage.isFetching,\r\n  followingInProgress: usersPage.followingInProgress,\r\n});\r\n\r\n// const mapStateToProps = (state) => ({\r\n//   usersData: getUsers(state),\r\n//   pageSize: getPageSize(state),\r\n//   totalUsersCount: getTotalUsersCount(state),\r\n//   currentPage: getCurrentPage(state),\r\n//   isFetching: getIsFetching(state),\r\n//   followingInProgress: getFollowingInProgress(state),\r\n// });\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    followThunkCreator,\r\n    unfollowThunkCreator,\r\n    setCurrentPage,\r\n    toggleIsFollowingProgress,\r\n    getUsersThunkCreator,\r\n  })\r\n)(UsersContainer);\r\n\r\n// export const UsersContainer = connect(mapStateToProps, {\r\n//   followThunkCreator,\r\n//   unfollowThunkCreator,\r\n//   setCurrentPage,\r\n//   toggleIsFollowingProgress,\r\n//   getUsersThunkCreator, //callback\r\n// })(UsersContainer);\r\n\r\n// const mapDispatchToProps = (dispatch) => {\r\n//   return {\r\n//     follow: (userId) => {\r\n//       dispatch(followAC(userId));\r\n//     },\r\n//     unfollow: (userId) => {\r\n//       dispatch(unfollowAC(userId));\r\n//     },\r\n//     setUsers: (users) => {\r\n//       dispatch(setUsersAC(users));\r\n//     },\r\n//     setCurrentPage: (pageNumber) => {\r\n//       dispatch(setCurrentPageAC(pageNumber));\r\n//     },\r\n//     setTotalUsersCount: (totalCount) => {\r\n//       dispatch(setTotalUsersCountAC(totalCount));\r\n//     },\r\n//     toggleIsFetching: (isFetching) => {\r\n//       dispatch(toggleIsFetchingAC(isFetching));\r\n//     },\r\n//   };\r\n// };\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { withLazyLoading } from \"./hoc/withLazyLoading\";\r\nimport { initializeApp } from \"./redux/appReducer\";\r\n\r\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\r\nimport Navbar from \"./components/Navbar/Navbar\";\r\nimport News from \"./components/News/News\";\r\nimport Music from \"./components/Music/Music\";\r\nimport FriendsContainer from \"./components/Friends/FriendsContainer\";\r\nimport UsersContainer from \"./components/Users/UsersContainer\";\r\n\r\nimport \"./App.css\";\r\nimport Preloader from \"./components/common/preloader/Preloader\";\r\n\r\nconst DialogsContainer = React.lazy(() =>\r\n  import(\"./components/Dialogs/DialogsContainer\")\r\n);\r\nconst ProfileContainer = React.lazy(() =>\r\n  import(\"./components/Profile/ProfileContainer\")\r\n);\r\nconst Login = React.lazy(() => import(\"./components/Login/Login\"));\r\n\r\nclass App extends React.Component {\r\n  catchAllUnhandledErrors = (PromiseRejectionEvent) => {\r\n    console.log(PromiseRejectionEvent);\r\n\r\n    alert(\"Some Error\");\r\n  };\r\n  componentDidMount() {\r\n    this.props.initializeApp();\r\n    window.addEventListener(\"unhandledrejection\", this.catchAllUnhandledErrors);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\r\n      \"unhandledrejection\",\r\n      this.catchAllUnhandledErrors\r\n    );\r\n  }\r\n  render() {\r\n    if (!this.props.initialized) return <Preloader />;\r\n    return (\r\n      <div className=\"app-wrapper\">\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className=\"app-wrapper-content\">\r\n          <Switch>\r\n            <Route\r\n              path=\"/profile/:userId?\"\r\n              render={withLazyLoading(ProfileContainer)}\r\n            />\r\n            <Route path=\"/dialogs\" render={withLazyLoading(DialogsContainer)} />\r\n            <Route path=\"/news\" component={News} />\r\n            <Route path=\"/music\" component={Music} />\r\n            <Route path=\"/friends\" render={() => <FriendsContainer />} />\r\n            <Route path=\"/users\" render={() => <UsersContainer />} />\r\n            <Route exact path=\"/login\" render={withLazyLoading(Login)} />\r\n            <Redirect exact from=\"/\" to=\"/profile\" />\r\n            <Route path=\"*\" render={() => <div>404</div>} />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = ({ app }) => ({\r\n  initialized: app.initialized,\r\n});\r\nexport default connect(mapStateToProps, { initializeApp })(App);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\n\r\nimport * as serviceWorker from \"./serviceWorker\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport store from \"./redux/reduxStore\";\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nserviceWorker.unregister();\r\n","export default __webpack_public_path__ + \"static/media/user.996a92ae.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Paginator_pagination__L2tBe\",\"selectedPage\":\"Paginator_selectedPage__3BuJV\",\"page\":\"Paginator_page__UrE8U\"};"],"sourceRoot":""}